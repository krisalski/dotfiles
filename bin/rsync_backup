#!/bin/bash

function last_character() {
  str=$1
  i=$((${#str}-1))
  echo "${str:$i:1}"
}

if [[ "$1" == "" || "$2" == "" ]]; then
  echo 'Pass source and destination'
  exit
fi

source_lc=$(last_character "$1")
destination_lc=$(last_character "$2")

if [[ "$source_lc" != "/" || "$destination_lc" != "/" ]]; then
  echo 'Last character in source and destination must be /'
  exit
fi

if [[ "$1" == "/" ]]; then
  sudo rsync -aAXH --delete --info=progress2 --exclude={"/home/km/GDrive/","/dev/*","/proc/*","/sys/*","/tmp/*","/run/*","/mnt/*","/media/*","/lost+found"} "$1" "$2"
else
  sudo rsync -aAXH --delete --info=progress2 --exclude={"/mnt/Storage/Videos/Anime"} "$1" "$2"
fi
